{"version":3,"sources":["webpack:///./src/components/AddPayment.vue","webpack:///./src/components/AddPayment.vue?cc9d"],"names":["class","id","style","role","onSubmit","novalidate","type","placeholder","usd","rub","name","customer","CUSTOMERS","key","value","last_name","first_name","phone_number","courier","COURIERS","service","SERVICES","plan","disabled","PLANS","description","error","el","inject","data","loading","computed","methods","this","payment","ADD_PAYMENT_TO_API","LOADING","MySpinner","val","mounted","GET_PLANS_FROM_API","GET_SERVICES_FROM_API","GET_CUSTOMERS_FROM_API","GET_COURIERS_FROM_API","render","__scopeId"],"mappings":"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","file":"js/chunk-2d21ecfe.8c69cbd5.js","sourcesContent":["<template>\n    <div class=\"container\">\n        <h4>Добавить платеж</h4>\n        <form @submit.prevent=\"onSubmit\" novalidate>\n            <div class=\"row\">\n                <div class=\"col-6\"><input type=\"number\" placeholder=\"USD\" class=\"form-control\" v-model.number=\"usd\">\n                </div>\n                <div class=\"col-6\"><input type=\"number\" placeholder=\"RUB\" class=\"form-control\" v-model.number=\"rub\">\n                </div>\n            </div>\n            <br>\n            <div class=\"row\">\n                <div class=\"col\">\n                    <select name=\"customer\" id=\"customer\" class=\"form-select\" v-model=\"customer\">\n                        <option v-for=\"customer in CUSTOMERS\" v-bind:key=\"customer.id\" v-bind:value=\"customer.id\">\n                            {{customer.id }} {{customer.last_name }} {{ customer.first_name }} {{ customer.phone_number\n                            }}\n                        </option>\n                    </select>\n                </div>\n                <div class=\"col\">\n                    <select name=\"courier\" id=\"courier\" class=\"form-select\" v-model=\"courier\">\n                        <option v-for=\"courier in COURIERS\" v-bind:key=\"courier.id\" v-bind:value=\"courier.id\">\n                            {{courier.last_name }} {{ courier.first_name }} {{ courier.phone_number }}\n                        </option>\n                    </select>\n                </div>\n            </div>\n            <br>\n            <div class=\"row\">\n                <div class=\"col-3\">\n                        <select name=\"service\" id=\"service\" class=\"form-select\" v-model=\"service\">\n                            <option v-for=\"service in SERVICES\" v-bind:key=\"service.id\" v-bind:value=\"service.id\"> {{\n                                service.name\n                                }}\n                            </option>\n                        </select>\n                </div>\n                <div class=\"col-3\" id=\"app-container\">\n                    <select name=\"plan\" id=\"plan\" class=\"form-select\" v-model=\"plan\" :disabled=\"service!==2\">\n                        <option v-for=\"plan in PLANS\" v-bind:key=\"plan.id\" v-bind:value=\"plan.id\"> {{ plan.name }}\n                        </option>\n                    </select>\n                </div>\n                <div class=\"col-6\"><input type=\"text\" placeholder=\"Коментарий платежа\" class=\"form-control\"\n                                        v-model=\"description\"></div>\n            </div>\n            <br>\n\n            <div class=\"row\">\n                <div class=\"col\">\n                    <button class=\"btn btn-success btn-sm\" style=\"margin-top: 10px\">Сохранить</button>\n                </div>\n            </div>\n        </form>\n        <div v-if=\"error\" class=\"alert alert-warning alert-dismissable fade show mt-5\" role=\"alert\">\n            <strong>{{error}}</strong></div>\n    </div>\n</template>\n\n<script>\n    import {mapActions, mapGetters} from 'vuex'\n\n    export default {\n\n        el: '#selector',\n        inject: ['MySpinner'],\n        data() {\n            return {\n                usd: null,\n                rub: null,\n                description: null,\n                customer: null,\n                courier: null,\n                service: 1,\n                error: null,\n                plan: 1,\n                loading: false\n            }\n        },\n        computed: {\n            ...mapGetters('services', ['PLANS']),\n            ...mapGetters('services', ['SERVICES']),\n            ...mapGetters('customers', ['CUSTOMERS']),\n            ...mapGetters('couriers', ['COURIERS']),\n            ...mapGetters('loading', ['LOADING'])\n        },\n        methods: {\n\n            ...mapActions('payments', ['ADD_PAYMENT_TO_API']),\n            ...mapActions('services', ['GET_PLANS_FROM_API']),\n            ...mapActions('services', ['GET_SERVICES_FROM_API']),\n            ...mapActions('customers', ['GET_CUSTOMERS_FROM_API']),\n            ...mapActions('couriers', ['GET_COURIERS_FROM_API']),\n            onSubmit() {\n                if (!this.customer) {\n                    this.error = 'Пожалуйста введите требуемые данные для платежа'\n                } else {\n                    if (this.service !== 2) {\n                        this.plan = 8\n                     }\n                        // else {\n                    //     this.service = 2\n                    // }\n                    if (this.usd === null || this.usd === '') {\n                        this.usd = 0\n                    }\n                    if (this.rub === null || this.rub === '') {\n                        this.rub = 0\n                    }\n                    if (this.description === null || this.description === '') {\n                        this.description = '0'\n                    }\n\n                    const payment = {\n                        usd: this.usd,\n                        rub: this.rub,\n                        customer: this.customer,\n                        courier: this.courier,\n                        service: this.service,\n                        plan: this.plan,\n                        description: this.description\n                    }\n                    this.ADD_PAYMENT_TO_API(payment)\n\n                    if (this.LOADING) {\n                        this.MySpinner.val = this.LOADING\n                        // this.loading = this.LOADING\n                    }\n                }\n            },\n        },\n        async mounted() {\n            this.GET_PLANS_FROM_API(),\n                this.GET_SERVICES_FROM_API(),\n                this.GET_CUSTOMERS_FROM_API(),\n                this.GET_COURIERS_FROM_API()\n        }\n    }\n</script>\n<style scoped>\n\n</style>","import { render } from \"./AddPayment.vue?vue&type=template&id=b3d4c7de&scoped=true\"\nimport script from \"./AddPayment.vue?vue&type=script&lang=js\"\nexport * from \"./AddPayment.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-b3d4c7de\"\n\nexport default script"],"sourceRoot":""}